{% extends "base.html" %} {% block content %}
<div class="container p-2">
  {% if messages %} {% for message in messages %}
  <p class="message">{{ message }}</p>
  {% endfor %} {% endif %} {% if tasks %}
  <h1>Tasks</h1>
  <table class="table table-striped table-bordered" id="taskTable">
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Asssigned to</th>
        <th>Created At</th>
        <th>Updated At</th>
        <th>Due Date</th>
        <th>Priority</th>
        <th>Status</th>
        <th>View File</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr>
        <td>{{ task.title }}</td>
        <td>{{ task.description }}</td>
        <td>{{ task.assignee }}</td>
        <td>{{task.created_at}}</td>
        <td>{{task.updated_at}}</td>
        <td>{{ task.due_date }}</td>
        <td>{{ task.priority }}</td>
        <td>{{ task.completed }}</td>
        <td>
          {% if task.file %}
          <a href="{{ task.file.url }}" class="btn btn-primary">View</a>
          {% else %}
          <p>No file</p>
          {% endif %}
        </td>
        <td class="" style="">
          <a href="{% url 'task_update' task.id %}" class="btn btn-primary text-center"
            >Edit</a
          >
          <a href="{% url 'task_delete' task.id %}" class="btn btn-danger text-center"
            >Delete</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="row">
    <div class="col-md-12">
      <h1>No task found</h1>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}
