{% extends "base.html"%}
{% block content %}
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1>Create Task</h1>
      <form method="POST">
        {% csrf_token %}
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" class="form-control" id="title" name="title" required>
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea class="form-control" id="description" name="description" required></textarea>
        </div>
        <div class="form-group">
          <label for="due_date">Due Date</label>
          <input type="date" class="form-control" id="due_date" name="due_date" required>
        </div>
        <div class="form-group">
          <label for="priority">Priority</label>
          <select class="form-control" id="priority" name="priority" required>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
          </select>
        </div>
        <div class="form-group">
          <label for="assignee">Assignee</label>
          <select class="form-control" id="assignee" name="assignee" required>
            {% if users %}
            {% for person in userdata %}
            <option value="{{ person.id }}">{{ person.username }}</option>
            {% endfor %}
            {% else %}
            <option value="">No users available</option>
            {% endif %}
          </select>
        </div>
        <div class="form-group">
          <label for="dependencies">Dependencies</label>
          <select class="form-control" id="dependencies" name="dependencies" multiple>
            {% if tasks %}
            {% for task in tasks %}
            <option value="{{ task.id }}">{{ task.title }}</option>
            {% endfor %}
            {% else %}
            <option value="">No tasks available</option>
            {% endif %}
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Create Task</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}