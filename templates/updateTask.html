{% extends "base.html" %}
{% block content %}
<h3>Update Task</h3>

<form action="" method="post">
  {% csrf_token %}
  <label for="title">Title:</label>
  <input type="text" name="title" id="title" value="{{ task.title }}" required /><br />
  <label for="description">Description</label>
  <textarea name="description" id="description" rows="5" required>{{ task.description }}</textarea><br />
  <label for="due_date">Due Date:</label>
  <input type="date" name="due_date" id="due_date" value="{{ task.due_date|date:'Y-m-d' }}" /><br />
  <label for="priority">Priority:</label>
  <select name="priority" id="priority" required>
    <option value="High" {% if task.priority == 'High' %} selected {% endif %}>High</option>
    <option value="Medium" {% if task.priority == 'Medium' %} selected {% endif %}>Medium</option>
    <option value="Low" {% if task.priority == 'Low' %} selected {% endif %}>Low</option>
  </select><br />
  <label for="assignee">Assigned to {{task.assignee}}</label>
  <select name="assignee" id="assignee" required>
    {% if users %} {% for user in users %}
      <option value="{{ user.id }}" {% if task.assignee.id == user.id %} selected {% endif %}>Update to <b>{{ user.username }}</b></option>
    {% endfor %} {% else %}
      <option value="" disabled>No users available</option>
    {% endif %}</select><br />
  <label for="file">Task File: Current {{task.file}}</label>
  <input type="file" name="file" id="file" /><br />
  <button type="submit">Update Task</button>


</form>

{% endblock %}
